<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Relay Servers Map</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    crossorigin=""/>
  <style>
    html,body,#map { height:100%; margin:0; padding:0; }
    body { font-family: Arial, Helvetica, sans-serif; }
    #map { height: 90vh; width: 100%; }
    .topbar { padding:8px; background:#f8f9fa; border-bottom:1px solid #ddd; }
    ul { margin: 0; padding-left: 20px; }
  </style>
</head>
<body>
  <div class="topbar">
    <strong>Relay Servers</strong> — merged markers by coordinate. Click markers to see all hostnames at that location.
  </div>
  <div id="map"></div>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    crossorigin=""></script>
  <script>
    const jakarta = [-6.2088, 106.8456];
    const relays = [{"lat": 37.7621, "lon": -122.3971, "hosts": ["relay.damus.io", "nostr.slothy.win", "relay.nostr.com.au", "nostr-verif.slothy.win", "relay.lexingtonbitcoin.org", "relay.damus.io", "relay.nostrcheck.me", "nostr.spaceshell.xyz", "relay.primal.net", "nostr.namek.link", "nostrja-kari.heguro.com", "nostr.overmind.lol", "relay.verified-nostr.com", "soloco.nl", "bucket.coracle.social", "relay.13room.space", "nostr.dbtc.link", "relay.sincensura.org", "srtrelay.c-stellar.net", "relay5.bitransfer.org", "nostr-relay.cbrx.io", "relay.minibolt.info", "nostr.makibisskey.work", "relay.mattybs.lol", "sendit.nosflare.com", "relay.coinos.io", "relay.nostraddress.com", "wot.nostr.net", "wheat.happytavern.co", "wot.dtonon.com", "relay.goodmorningbitcoin.com", "bostr.syobon.net", "schnorr.me", "nostr.red5d.dev", "nostrelay.memory-art.xyz", "premium.primal.net", "nostr.lojong.info", "nostr-rs-relay-ishosta.phamthanh.me", "relay.chakany.systems", "nostr-relay.shirogaku.xyz", "kitchen.zap.cooking", "relay.bullishbounty.com", "nostr.spicyz.io", "relayrs.notoshi.win", "fenrir-s.notoshi.win", "x.kojira.io", "nostr.rblb.it", "relay.vrtmrz.net", "relay.holzeis.me", "nostr.smut.cloud", "r.bitcoinhold.net", "relay.anzenkodo.workers.dev", "relay.puresignal.news", "relay.nostx.io", "relay.artiostr.ch", "alien.macneilmediagroup.com", "rn1.sotiras.org", "relay.conduit.market", "nostr-relay.moe.gift", "relay.nostrcal.com", "temp.iris.to", "librerelay.aaroniumii.com", "nostr-relay-1.trustlessenterprise.com", "relay.barine.co", "relay.bankless.at", "nostr.veladan.dev", "nostr.tadryanom.me", "nostr-relay.online"]}, {"lat": 45.5229, "lon": -122.9898, "hosts": ["nostr-pub.wellorder.net", "relay.wellorder.net", "nostr-pub.wellorder.net", "relay.wellorder.net", "nostr-dev.wellorder.net", "nostr-verified.wellorder.net", "chorus.pjv.me"]}, {"lat": 50.4779, "lon": 12.3713, "hosts": ["nostr.mom", "nos.lol", "nostr.data.haus", "nostr.mom", "nos.lol", "nostr.data.haus", "nostr.oxtr.dev", "nostr.rikmeijer.nl", "a.nos.lol", "relay.nostr.net", "wot.codingarena.top", "relay.sigit.io", "relay.degmods.com", "relay.arx-ccn.com", "relay.bitcoinartclock.com", "nostr.night7.space"]}, {"lat": 50.1155, "lon": 8.6842, "hosts": ["nostr.einundzwanzig.space", "nostr.massmux.com", "nostr.einundzwanzig.space", "nostr.massmux.com", "purplerelay.com", "pyramid.fiatjaf.com", "relay.nostrhub.fr", "relay2.angor.io", "relay.angor.io", "nostr.chaima.info", "relay.davidebtc.me", "promenade.fiatjaf.com", "relay.fr13nd5.com", "relay.oldenburg.cool", "relay.chorus.community"]}, {"lat": 60.1695, "lon": 24.9354, "hosts": ["relay.nostr.band", "relay.nostr.band", "nproxy.kristapsk.lv", "relay1.nostrchat.io", "relay.froth.zone", "orangepiller.org", "relay.zone667.com", "social.proxymana.net", "relay.nsnip.io", "nostr.blankfors.se"]}, {"lat": 9.9339, "lon": -84.0849, "hosts": ["no.str.cr", "no.str.cr"]}, {"lat": 39.0437, "lon": -77.4875, "hosts": ["nostr-relay.schnitzel.world", "nostr-relay.schnitzel.world", "slick.mjex.me", "nostr-relay.psfoundation.info", "nostr.coincrowd.fund", "nostr-rs-relay.dev.fedibtc.com", "nostr.tegila.com.br", "relay.hasenpfeffr.com"]}, {"lat": 48.8534, "lon": 2.3488, "hosts": ["knostr.neutrine.com", "vidono.apps.slidestr.net", "relay.cypherflow.ai"]}, {"lat": 47.4875, "lon": 8.2965, "hosts": ["nostr.nodeofsven.com"]}, {"lat": 49.4542, "lon": 11.0775, "hosts": ["nostr.vulpem.com", "nostr.vulpem.com", "relay.nostromo.social", "relay2.nostrchat.io", "nostr.rtvslawenia.com"]}, {"lat": -1.2615, "lon": 36.7903, "hosts": ["nostr-1.nbo.angani.co"]}, {"lat": 43.7064, "lon": -79.3986, "hosts": ["nostr.easydns.ca", "nostr.fbxl.net", "relay.artx.market", "relay.nostriot.com", "wot.sudocarlos.com", "relay.jeffg.fyi", "nostr.coincards.com", "relay.getsafebox.app"]}, {"lat": 52.2298, "lon": 21.0118, "hosts": ["relay.dwadziesciajeden.pl", "relay.dwadziesciajeden.pl", "nostr.novacisko.cz", "relay.letsfo.com"]}, {"lat": 34.0522, "lon": -118.2437, "hosts": ["offchain.pub", "nostr.2b9t.xyz", "nostr-relay.zimage.com"]}, {"lat": 35.9356, "lon": 139.3044, "hosts": ["relay.nostr.wirednet.jp"]}, {"lat": 40.8043, "lon": -74.0121, "hosts": ["nostrue.com", "nostr.roundrockbitcoiners.com", "relay.tapestry.ninja", "relay.toastr.net"]}, {"lat": 52.374, "lon": 4.8897, "hosts": ["nostr.yael.at", "relay.freeplace.nl", "relay.agorist.space", "nostr.agentcampfire.com", "nostr.kalf.org", "nostr.prl.plus", "relay.mccormick.cx"]}, {"lat": 46.516, "lon": 6.6328, "hosts": ["nostr.21crypto.ch", "nostr-2.21crypto.ch"]}, {"lat": 38.8003, "lon": -90.6265, "hosts": ["nostr.liberty.fans"]}, {"lat": 1.2897, "lon": 103.8501, "hosts": ["nostr-02.dorafactory.org", "nostr-03.dorafactory.org", "relay.satsdays.com"]}, {"lat": -32.9468, "lon": -60.6393, "hosts": ["relay.hodl.ar"]}, {"lat": 35.8089, "lon": 140.1185, "hosts": ["nostr.middling.mydns.jp"]}, {"lat": 47.3667, "lon": 8.55, "hosts": ["nostr.hifish.org"]}, {"lat": 41.8119, "lon": -87.6873, "hosts": ["black.nostrcity.club", "travis-shears-nostr-relay-v2.fly.dev"]}, {"lat": 37.3924, "lon": -121.9623, "hosts": ["nostr.hekster.org", "relay.cosmicbolt.net", "satsage.xyz", "relay.hivetalk.org"]}, {"lat": 41.2619, "lon": -95.8608, "hosts": ["relay.wavlake.com", "relay.etch.social"]}, {"lat": 49.2497, "lon": -123.1193, "hosts": ["nostr.sagaciousd.com"]}, {"lat": 50.799, "lon": -1.0913, "hosts": ["ithurtswhenip.ee", "relay.copylaradio.com"]}, {"lat": 1.3215, "lon": 103.6957, "hosts": ["nostr-01.yakihonne.com", "nostr-02.yakihonne.com"]}, {"lat": 48.5839, "lon": 7.7455, "hosts": ["nostr.sathoarder.com"]}, {"lat": 49.0127, "lon": 1.9694, "hosts": ["relay.orangepill.ovh"]}, {"lat": 52.525, "lon": 5.7181, "hosts": ["nostr.stakey.net"]}, {"lat": 25.813, "lon": -80.232, "hosts": ["relay.magiccity.live", "nostr.bilthon.dev"]}, {"lat": 40.8344, "lon": -74.1377, "hosts": ["nostr.notribe.net", "santo.iguanatech.net", "relay.mostro.network", "communities.nos.social", "relay.evanverma.com", "relay-dev.satlantis.io"]}, {"lat": 64.1355, "lon": -21.8954, "hosts": ["freelay.sovbit.host", "nostr.satstralia.com", "bostr.bitcointxoko.com", "relay.bitcoinveneto.org", "theoutpost.life"]}, {"lat": 43.4254, "lon": -80.5112, "hosts": ["relay.credenso.cafe"]}, {"lat": 47.4984, "lon": 19.0404, "hosts": ["nostr.huszonegy.world", "multiplexer.huszonegy.world"]}, {"lat": 33.7865, "lon": -84.4454, "hosts": ["nostr.kungfu-g.rip"]}, {"lat": 13.3622, "lon": 100.9835, "hosts": ["relay.notoshi.win"]}, {"lat": 40.7143, "lon": -74.006, "hosts": ["vitor.nostr1.com", "cyberspace.nostr1.com", "nostr.zenon.network", "fanfares.nostr1.com"]}, {"lat": -36.8485, "lon": 174.7635, "hosts": ["n.ok0.org"]}, {"lat": 47.5056, "lon": 8.7241, "hosts": ["nostr.0x7e.xyz"]}, {"lat": 51.5717, "lon": 3.7042, "hosts": ["strfry.openhoofd.nl"]}, {"lat": 39.0997, "lon": -94.5786, "hosts": ["relay.fountain.fm", "relay02.lnfi.network", "dev-relay.lnfi.network", "relay04.lnfi.network", "relay03.lnfi.network", "relay01.lnfi.network", "wot.soundhsa.com", "relayone.soundhsa.com"]}, {"lat": 38.7135, "lon": -78.1594, "hosts": ["relay.usefusion.ai"]}, {"lat": 52.6958, "lon": 6.1944, "hosts": ["relay.varke.eu"]}, {"lat": 52.371, "lon": 4.9042, "hosts": ["nostr.myshosholoza.co.za"]}, {"lat": 50.8517, "lon": 3.6089, "hosts": ["nostr.carroarmato0.be"]}, {"lat": 59.9386, "lon": 30.3141, "hosts": ["adre.su"]}, {"lat": 50.1025, "lon": 8.6299, "hosts": ["nostr.plantroon.com", "strfry.felixzieger.de"]}, {"lat": 49.4453, "lon": 11.0222, "hosts": ["nostr.jfischer.org", "relay.lumina.rocks", "nostr.4rs.nl", "relay-rpi.edufeed.org", "portal-relay.pareto.space", "relay.nostrhub.tech"]}, {"lat": 50.9519, "lon": 1.8563, "hosts": ["nostr.tavux.tech", "relay.mwaters.net"]}, {"lat": 45.4112, "lon": -75.6981, "hosts": ["relay.tagayasu.xyz"]}, {"lat": 47.6062, "lon": -122.3321, "hosts": ["relay.illuminodes.com", "wot.downisontheup.ca"]}, {"lat": 50.9333, "lon": 6.95, "hosts": ["orangesync.tech"]}, {"lat": 50.088, "lon": 14.4208, "hosts": ["relay.21e6.cz"]}, {"lat": 32.8546, "lon": -79.9748, "hosts": ["relay.satlantis.io"]}, {"lat": 45.5088, "lon": -73.5878, "hosts": ["relay.digitalezukunft.cyou", "zap.watch", "nostr.community.ath.cx"]}, {"lat": 34.8436, "lon": 135.5084, "hosts": ["noxir.kpherox.dev"]}, {"lat": 36.1659, "lon": -86.7844, "hosts": ["wot.nostr.party"]}, {"lat": 41.85, "lon": -87.65, "hosts": ["nostrelites.org"]}, {"lat": 55.7522, "lon": 37.6156, "hosts": ["prl.plus"]}, {"lat": 52.2284, "lon": 21.0522, "hosts": ["nostr.azzamo.net", "inbox.azzamo.net"]}, {"lat": 45.6241, "lon": 8.7851, "hosts": ["relay.lnfi.network"]}, {"lat": -33.8678, "lon": 151.2073, "hosts": ["relay.nostrdice.com"]}, {"lat": 51.37, "lon": 6.1681, "hosts": ["wot.sebastix.social", "relay.nosto.re", "khatru.nostrver.se"]}, {"lat": 37.8716, "lon": -122.2728, "hosts": ["strfry.bonsai.com"]}, {"lat": 41.8847, "lon": -88.204, "hosts": ["strfry.shock.network"]}, {"lat": 37.3394, "lon": -121.895, "hosts": ["articles.layer3.news", "relay-testnet.k8s.layer3.news"]}, {"lat": 32.7244, "lon": -96.6755, "hosts": ["nostr.thebiglake.org"]}, {"lat": 35.609, "lon": 139.7302, "hosts": ["relay.wolfcoil.com", "nostr.now"]}, {"lat": 24.1469, "lon": 120.6839, "hosts": ["nostr.camalolo.com"]}, {"lat": 47.474, "lon": -122.261, "hosts": ["nostr.tac.lol"]}, {"lat": 53.3331, "lon": -6.2489, "hosts": ["relay.netstr.io"]}, {"lat": 59.3294, "lon": 18.0687, "hosts": ["relay.stream.labs.h3.se"]}, {"lat": 51.4566, "lon": 7.0123, "hosts": ["tollbooth.stens.dev", "nostrelay.circum.space"]}, {"lat": 47.6928, "lon": -116.785, "hosts": ["wot.brightbolt.net"]}, {"lat": 43.9298, "lon": 2.148, "hosts": ["relay.g1sms.fr"]}, {"lat": 45.5946, "lon": -121.1787, "hosts": ["nostr.hoppe-relay.it.com"]}, {"lat": 13.754, "lon": 100.5014, "hosts": ["relay.ru.ac.th"]}, {"lat": 47.1345, "lon": 9.0964, "hosts": ["relay.mess.ch"]}, {"lat": 40.822, "lon": -74.4488, "hosts": ["relay-admin.thaliyal.com", "nostr.thaliyal.com"]}, {"lat": 35.7721, "lon": -78.6386, "hosts": ["nostr-relay.amethyst.name"]}, {"lat": 17.121, "lon": -61.8433, "hosts": ["relayone.geektank.ai", "wot.geektank.ai"]}, {"lat": 13.9178, "lon": 100.424, "hosts": ["relay.siamdev.cc"]}, {"lat": 47.5707, "lon": -122.2221, "hosts": ["nostr.n7ekb.net"]}, {"lat": 37.7915, "lon": -122.4018, "hosts": ["relay.wavefunc.live"]}, {"lat": 43.4628, "lon": 11.8807, "hosts": ["relay.javi.space"]}, {"lat": 42.8865, "lon": -78.8784, "hosts": ["bostr.shop"]}, {"lat": 42.6975, "lon": 23.3241, "hosts": ["gnostr.com"]}, {"lat": 30.296, "lon": -97.6396, "hosts": ["nostr.l484.com"]}, {"lat": 48.1374, "lon": 11.5755, "hosts": ["nostr.rohoss.com"]}, {"lat": 30.2672, "lon": -97.7431, "hosts": ["wot.nostr.place"]}, {"lat": 34.7331, "lon": 135.8183, "hosts": ["relay.utxo.farm"]}, {"lat": 52.5244, "lon": 13.4105, "hosts": ["nostr.excentered.com"]}, {"lat": 45.3134, "lon": -73.8725, "hosts": ["relay.laantungir.net"]}, {"lat": 25.0531, "lon": 121.5264, "hosts": ["dev-nostr.bityacht.io"]}];

    const map = L.map('map').setView(jakarta, 3);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: '© OpenStreetMap contributors'
    }).addTo(map);

    

    for (const r of relays) {
      try {
        const lat = parseFloat(r.lat);
        const lon = parseFloat(r.lon);
        if (Number.isFinite(lat) && Number.isFinite(lon)) {
          const marker = L.marker([lat, lon]).addTo(map);
          const safeHosts = r.hosts.map(h => (h+"").replace(/</g,'&lt;').replace(/>/g,'&gt;'));
          const popup = `<b>${safeHosts.length} host(s)</b><br/>Lat: ${lat}<br/>Lon: ${lon}<br/><ul>` +
                        safeHosts.map(h => `<li>${h}</li>`).join("") +
                        "</ul>";
          marker.bindPopup(popup);
        }
      } catch(e) {
        console.warn('Skipping invalid record', r, e);
      }
    }
  </script>
</body>
</html>
